@model LoginPageWithAuthentication.Models.ChangePasswordViewModel
@{
    ViewBag.Title = "Change Password";
}

<h2>@ViewBag.Title.</h2>

@using (Html.BeginForm("ChangePassword", "Manage", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()
    <h4>Change Password Form</h4>
    <hr />
    @Html.ValidationSummary("", new { @class = "text-danger" })
    <div class="form-group">
        @Html.LabelFor(m => m.OldPassword, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.OldPassword, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.NewPassword, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control", data_bind = "value: password, valueUpdate: 'input'" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
        </div>
    </div>
    <p class="col-md-offset-2 col-md-10">
        <i class="fa" data-bind="class: correctLength() ? 'fa-check-circle' : 'fa-times-circle' "></i> Between 5 and 12 characters<br />
        <i class="fa" data-bind="class: lettersDigits() ? 'fa-check-circle' : 'fa-times-circle' "></i> At least one letter and number<br />
        <i class="fa" data-bind="class: !repeatCharacters() ? 'fa-check-circle' : 'fa-times-circle' "></i> No repeated character sequences (common words like "letter" allowed)
    </p>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Change password" class="btn btn-default" data-bind="enable: correctLength() && lettersDigits() && !repeatCharacters()"/>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/Scripts/password-validator.js")
    @Scripts.Render("~/Scripts/knockout-3.5.0.js")
}

@section Styles {
    @Styles.Render("~/Content/font-awesome.min.css")
    @Styles.Render("~/Content/password-validator.css")
}